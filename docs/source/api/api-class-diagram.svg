<svg id="mermaid-svg" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="562" style="max-width: 1154.5px;" viewBox="-20 -20 1154.5 562"><style>#mermaid-svg{font-family:"trebuchet ms",verdana,arial;font-size:16px;fill:#333;}#mermaid-svg .error-icon{fill:#552222;}#mermaid-svg .error-text{fill:#552222;stroke:#552222;}#mermaid-svg .edge-thickness-normal{stroke-width:2px;}#mermaid-svg .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg .marker{fill:#333333;}#mermaid-svg .marker.cross{stroke:#333333;}#mermaid-svg svg{font-family:"trebuchet ms",verdana,arial;font-size:16px;}#mermaid-svg g.classGroup text{fill:#9370DB;fill:#131300;stroke:none;font-family:"trebuchet ms",verdana,arial;font-size:10px;}#mermaid-svg g.classGroup text .title{font-weight:bolder;}#mermaid-svg .classTitle{font-weight:bolder;}#mermaid-svg .node rect,#mermaid-svg .node circle,#mermaid-svg .node ellipse,#mermaid-svg .node polygon,#mermaid-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-svg .divider{stroke:#9370DB;stroke:1;}#mermaid-svg g.clickable{cursor:pointer;}#mermaid-svg g.classGroup rect{fill:#ECECFF;stroke:#9370DB;}#mermaid-svg g.classGroup line{stroke:#9370DB;stroke-width:1;}#mermaid-svg .classLabel .box{stroke:none;stroke-width:0;fill:#ECECFF;opacity:0.5;}#mermaid-svg .classLabel .label{fill:#9370DB;font-size:10px;}#mermaid-svg .relation{stroke:#333333;stroke-width:1;fill:none;}#mermaid-svg .dashed-line{stroke-dasharray:3;}#mermaid-svg #compositionStart,#mermaid-svg .composition{fill:#333333 !important;stroke:#333333 !important;stroke-width:1;}#mermaid-svg #compositionEnd,#mermaid-svg .composition{fill:#333333 !important;stroke:#333333 !important;stroke-width:1;}#mermaid-svg #dependencyStart,#mermaid-svg .dependency{fill:#333333 !important;stroke:#333333 !important;stroke-width:1;}#mermaid-svg #dependencyStart,#mermaid-svg .dependency{fill:#333333 !important;stroke:#333333 !important;stroke-width:1;}#mermaid-svg #extensionStart,#mermaid-svg .extension{fill:#333333 !important;stroke:#333333 !important;stroke-width:1;}#mermaid-svg #extensionEnd,#mermaid-svg .extension{fill:#333333 !important;stroke:#333333 !important;stroke-width:1;}#mermaid-svg #aggregationStart,#mermaid-svg .aggregation{fill:#ECECFF !important;stroke:#333333 !important;stroke-width:1;}#mermaid-svg #aggregationEnd,#mermaid-svg .aggregation{fill:#ECECFF !important;stroke:#333333 !important;stroke-width:1;}#mermaid-svg .edgeTerminals{font-size:11px;}#mermaid-svg:root{--mermaid-font-family:"trebuchet ms",verdana,arial;}#mermaid-svg class{fill:apa;}</style><g/><defs><marker id="extensionStart" class="extension" refX="0" refY="7" markerWidth="190" markerHeight="240" orient="auto"><path d="M 1,7 L18,13 V 1 Z"/></marker></defs><defs><marker id="extensionEnd" refX="19" refY="7" markerWidth="20" markerHeight="28" orient="auto"><path d="M 1,1 V 13 L18,7 Z"/></marker></defs><defs><marker id="compositionStart" class="extension" refX="0" refY="7" markerWidth="190" markerHeight="240" orient="auto"><path d="M 18,7 L9,13 L1,7 L9,1 Z"/></marker></defs><defs><marker id="compositionEnd" refX="19" refY="7" markerWidth="20" markerHeight="28" orient="auto"><path d="M 18,7 L9,13 L1,7 L9,1 Z"/></marker></defs><defs><marker id="aggregationStart" class="extension" refX="0" refY="7" markerWidth="190" markerHeight="240" orient="auto"><path d="M 18,7 L9,13 L1,7 L9,1 Z"/></marker></defs><defs><marker id="aggregationEnd" refX="19" refY="7" markerWidth="20" markerHeight="28" orient="auto"><path d="M 18,7 L9,13 L1,7 L9,1 Z"/></marker></defs><defs><marker id="dependencyStart" class="extension" refX="0" refY="7" markerWidth="190" markerHeight="240" orient="auto"><path d="M 5,7 L9,13 L1,7 L9,1 Z"/></marker></defs><defs><marker id="dependencyEnd" refX="19" refY="7" markerWidth="20" markerHeight="28" orient="auto"><path d="M 18,7 L9,13 L14,7 L9,1 Z"/></marker></defs><g id="classid-Operator-0" class="classGroup" transform="translate(639.5,108 )"><rect x="0" y="0" width="53" height="58" class=" "/><text y="15" x="0"><tspan class="title" x="5">Operator</tspan></text><line x1="0" y1="22" y2="22" x2="53"/><text x="5" y="32" fill="white" class="classText"/><line x1="0" y1="27" y2="27" x2="53"/><text x="5" y="42" fill="white" class="classText"><tspan x="5">+fwd()</tspan><tspan x="5" dy="10">+adj()</tspan></text></g><g id="classid-ContextManager-1" class="classGroup" transform="translate(621.5,0 )"><rect x="0" y="0" width="89" height="58" class=" "/><text y="15" x="0"><tspan class="title" x="5">ContextManager</tspan></text><line x1="0" y1="22" y2="22" x2="89"/><text x="5" y="32" fill="white" class="classText"/><line x1="0" y1="27" y2="27" x2="89"/><text x="5" y="42" fill="white" class="classText"><tspan x="5">-__enter__()</tspan><tspan x="5" dy="10">-__exit__()</tspan></text></g><g id="classid-Tomo-2" class="classGroup" transform="translate(0,246 )"><rect x="0" y="0" width="132" height="88" class=" "/><text y="15" x="0"><tspan class="title" x="53">Tomo</tspan></text><line x1="0" y1="21" y2="21" x2="132"/><text x="5" y="31" fill="white" class="classText"><tspan x="5">+int ntheta</tspan><tspan x="5" dy="10">+int n</tspan><tspan x="5" dy="10">+int nz</tspan></text><line x1="0" y1="57" y2="57" x2="132"/><text x="5" y="72" fill="white" class="classText"><tspan x="5">+fwd(self, obj, **kwargs)</tspan><tspan x="5" dy="10">+adj(self, tomo, **kwargs)</tspan></text></g><g id="classid-Lamino-3" class="classGroup" transform="translate(182,246 )"><rect x="0" y="0" width="132" height="88" class=" "/><text y="15" x="0"><tspan class="title" x="48">Lamino</tspan></text><line x1="0" y1="21" y2="21" x2="132"/><text x="5" y="31" fill="white" class="classText"><tspan x="5">+int theta</tspan><tspan x="5" dy="10">+int n</tspan><tspan x="5" dy="10">+int tilt</tspan></text><line x1="0" y1="57" y2="57" x2="132"/><text x="5" y="72" fill="white" class="classText"><tspan x="5">+fwd(self, obj, **kwargs)</tspan><tspan x="5" dy="10">+adj(self, tomo, **kwargs)</tspan></text></g><g id="classid-Ptycho-4" class="classGroup" transform="translate(384,216 )"><rect x="0" y="0" width="227" height="148" class=" "/><text y="15" x="0"><tspan class="title" x="96.5">Ptycho</tspan></text><line x1="0" y1="21" y2="21" x2="227"/><text x="5" y="31" fill="white" class="classText"><tspan x="5">+int nscan</tspan><tspan x="5" dy="10">+int probe_shape</tspan><tspan x="5" dy="10">+int detector_shape</tspan><tspan x="5" dy="10">+int nz</tspan><tspan x="5" dy="10">+int n</tspan><tspan x="5" dy="10">+int ntheta</tspan><tspan x="5" dy="10">+Propagation propagation</tspan><tspan x="5" dy="10">+Convolution convolution</tspan></text><line x1="0" y1="107" y2="107" x2="227"/><text x="5" y="122" fill="white" class="classText"><tspan x="5">+fwd(self, probe, scan, psi, **kwargs)</tspan><tspan x="5" dy="10">+adj(self, farplane, probe, scan, **kwargs)</tspan><tspan x="5" dy="10">+adj_probe(self, farplane, scan, psi, **kwargs)</tspan></text></g><g id="classid-Convolution-5" class="classGroup" transform="translate(374.75,414 )"><rect x="0" y="0" width="97" height="108" class=" "/><text y="15" x="0"><tspan class="title" x="19.5">Convolution</tspan></text><line x1="0" y1="21" y2="21" x2="97"/><text x="5" y="31" fill="white" class="classText"><tspan x="5">+int nscan</tspan><tspan x="5" dy="10">+int probe_shape</tspan><tspan x="5" dy="10">+int nz</tspan><tspan x="5" dy="10">+int n</tspan><tspan x="5" dy="10">+int ntheta</tspan></text><line x1="0" y1="77" y2="77" x2="97"/><text x="5" y="92" fill="white" class="classText"><tspan x="5">+fwd()</tspan><tspan x="5" dy="10">+adj()</tspan></text></g><g id="classid-Propagation-6" class="classGroup" transform="translate(602,433.5 )"><rect x="0" y="0" width="108" height="69" class=" "/><text y="15" x="0"><tspan class="title" x="24.5">Propagation</tspan></text><line x1="0" y1="22" y2="22" x2="108"/><text x="5" y="32" fill="white" class="classText"><tspan x="5">+int detector_shape</tspan></text><line x1="0" y1="38" y2="38" x2="108"/><text x="5" y="53" fill="white" class="classText"><tspan x="5">+fwd()</tspan><tspan x="5" dy="10">+adj()</tspan></text></g><g id="classid-Alignment-7" class="classGroup" transform="translate(873,240.5 )"><rect x="0" y="0" width="82" height="99" class=" "/><text y="15" x="0"><tspan class="title" x="16">Alignment</tspan></text><line x1="0" y1="22" y2="22" x2="82"/><text x="5" y="32" fill="white" class="classText"><tspan x="5">+Flow flow</tspan><tspan x="5" dy="10">+Rotate rotate</tspan><tspan x="5" dy="10">+Pad pad</tspan><tspan x="5" dy="10">+Shift shift</tspan></text><line x1="0" y1="68" y2="68" x2="82"/><text x="5" y="83" fill="white" class="classText"><tspan x="5">+fwd()</tspan><tspan x="5" dy="10">+adj()</tspan></text></g><g id="classid-Rotate-8" class="classGroup" transform="translate(760,439.5 )"><rect x="0" y="0" width="43" height="57" class=" "/><text y="15" x="0"><tspan class="title" x="6">Rotate</tspan></text><line x1="0" y1="21" y2="21" x2="43"/><text x="5" y="31" fill="white" class="classText"/><line x1="0" y1="26" y2="26" x2="43"/><text x="5" y="41" fill="white" class="classText"><tspan x="5">+fwd()</tspan><tspan x="5" dy="10">+adj()</tspan></text></g><g id="classid-Pad-9" class="classGroup" transform="translate(854.5,439.5 )"><rect x="0" y="0" width="43" height="57" class=" "/><text y="15" x="0"><tspan class="title" x="12">Pad</tspan></text><line x1="0" y1="21" y2="21" x2="43"/><text x="5" y="31" fill="white" class="classText"/><line x1="0" y1="26" y2="26" x2="43"/><text x="5" y="41" fill="white" class="classText"><tspan x="5">+fwd()</tspan><tspan x="5" dy="10">+adj()</tspan></text></g><g id="classid-Flow-10" class="classGroup" transform="translate(1071.5,439.5 )"><rect x="0" y="0" width="43" height="57" class=" "/><text y="15" x="0"><tspan class="title" x="10">Flow</tspan></text><line x1="0" y1="21" y2="21" x2="43"/><text x="5" y="31" fill="white" class="classText"/><line x1="0" y1="26" y2="26" x2="43"/><text x="5" y="41" fill="white" class="classText"><tspan x="5">+fwd()</tspan><tspan x="5" dy="10">+adj()</tspan></text></g><g id="classid-Shift-11" class="classGroup" transform="translate(978.5,439.5 )"><rect x="0" y="0" width="43" height="57" class=" "/><text y="15" x="0"><tspan class="title" x="10">Shift</tspan></text><line x1="0" y1="21" y2="21" x2="43"/><text x="5" y="31" fill="white" class="classText"/><line x1="0" y1="26" y2="26" x2="43"/><text x="5" y="41" fill="white" class="classText"><tspan x="5">+fwd()</tspan><tspan x="5" dy="10">+adj()</tspan></text></g><path d="M666,58L666,62.166666666666664C666,66.33333333333333,666,74.66666666666667,666,83C666,91.33333333333333,666,99.66666666666667,666,103.83333333333333L666,108" id="edge0" class="relation" marker-start="url(#extensionStart)"/><path d="M639.5,139.385L543.9166666666666,147.98749999999998C448.3333333333333,156.59,257.1666666666667,173.795,161.58333333333334,191.56416666666667C66,209.33333333333334,66,227.66666666666666,66,236.83333333333334L66,246" id="edge1" class="relation" marker-start="url(#extensionStart)"/><path d="M639.5,140.42344497607655L574.25,148.85287081339712C509,157.2822966507177,378.5,174.14114832535884,313.25,191.7372408293461C248,209.33333333333334,248,227.66666666666666,248,236.83333333333334L248,246" id="edge2" class="relation" marker-start="url(#extensionStart)"/><path d="M639.5,145.4925816023739L615.8333333333334,153.07715133531158C592.1666666666666,160.66172106824925,544.8333333333334,175.83086053412464,521.1666666666666,187.58209693372896C497.5,199.33333333333334,497.5,207.66666666666666,497.5,211.83333333333334L497.5,216" id="edge3" class="relation" marker-start="url(#extensionStart)"/><path d="M639.5,141.5141955835962L591.0833333333334,149.76182965299685C542.6666666666666,158.00946372239747,445.8333333333333,174.50473186119874,397.4166666666667,199.25236593059935C349,224,349,257,349,290C349,323,349,356,353.2916666666667,377.06621773288435C357.5833333333333,398.1324354657688,366.1666666666667,407.26487093153764,370.4583333333333,411.831088664422L374.75,416.3973063973064" id="edge4" class="relation" marker-start="url(#extensionStart)"/><path d="M655.2592592592592,166L653.716049382716,170.16666666666666C652.1728395061729,174.33333333333334,649.0864197530864,182.66666666666666,647.5432098765432,203.33333333333334C646,224,646,257,646,290C646,323,646,356,646.9388185654008,379.9166666666667C647.8776371308016,403.8333333333333,649.7552742616034,418.6666666666667,650.6940928270042,426.0833333333333L651.632911392405,433.5" id="edge5" class="relation" marker-start="url(#extensionStart)"/><path d="M497.5,364L497.5,368.1666666666667C497.5,372.3333333333333,497.5,380.6666666666667,493.2083333333333,389.3995510662177C488.9166666666667,398.1324354657688,480.3333333333333,407.26487093153764,476.0416666666667,411.831088664422L471.75,416.3973063973064" id="edge6" class="relation" marker-end="url(#aggregationEnd)"/><path d="M611,343.1905325443787L627.2916666666666,350.82544378698225C643.5833333333334,358.4603550295858,676.1666666666666,373.73017751479284,687.5060654008439,388.7817554240631C698.8454641350212,403.8333333333333,688.9409282700423,418.6666666666667,683.9886603375527,426.0833333333333L679.0363924050633,433.5" id="edge7" class="relation" marker-end="url(#aggregationEnd)"/><path d="M692.5,142.7701612903226L729.4166666666666,150.8084677419355C766.3333333333334,158.84677419354838,840.1666666666666,174.92338709677418,877.0833333333334,191.21169354838707C914,207.5,914,224,914,232.25L914,240.5" id="edge8" class="relation" marker-start="url(#extensionStart)"/><path d="M692.5,159.80478087649402L698.5416666666666,165.00398406374504C704.5833333333334,170.20318725099602,716.6666666666666,180.60159362549803,722.7083333333334,202.300796812749C728.75,224,728.75,257,728.75,290C728.75,323,728.75,356,734.3699894514767,380.9166666666667C739.9899789029536,405.8333333333333,751.2299578059072,422.6666666666667,756.849947257384,431.0833333333333L762.4699367088608,439.5" id="edge9" class="relation" marker-start="url(#extensionStart)"/><path d="M692.5,145.31976744186048L716.75,152.93313953488374C741,160.546511627907,789.5,175.77325581395348,813.75,199.88662790697674C838,224,838,257,838,290C838,323,838,356,842.0485232067512,380.9166666666667C846.0970464135021,405.8333333333333,854.1940928270042,422.6666666666667,858.2426160337553,431.0833333333333L862.2911392405064,439.5" id="edge10" class="relation" marker-start="url(#extensionStart)"/><path d="M692.5,140.66453265044814L753.1666666666666,149.05377720870678C813.8333333333334,157.44302176696542,935.1666666666666,174.2215108834827,995.8333333333334,199.11075544174136C1056.5,224,1056.5,257,1056.5,290C1056.5,323,1056.5,356,1060.3887130801688,380.9166666666667C1064.2774261603374,405.8333333333333,1072.054852320675,422.6666666666667,1075.943565400844,431.0833333333333L1079.8322784810127,439.5" id="edge11" class="relation" marker-start="url(#extensionStart)"/><path d="M692.5,141.41666666666666L742.0833333333334,149.68055555555554C791.6666666666666,157.94444444444443,890.8333333333334,174.4722222222222,940.4166666666666,199.2361111111111C990,224,990,257,990,290C990,323,990,356,991.0654008438819,380.9166666666667C992.1308016877638,405.8333333333333,994.2616033755274,422.6666666666667,995.3270042194093,431.0833333333333L996.3924050632911,439.5" id="edge12" class="relation" marker-start="url(#extensionStart)"/><path d="M873,332.28125L863.8333333333334,341.734375C854.6666666666666,351.1875,836.3333333333334,370.09375,823.2779535864979,387.9635416666667C810.2225738396625,405.8333333333333,802.445147679325,422.6666666666667,798.5564345991561,431.0833333333333L794.6677215189874,439.5" id="edge13" class="relation" marker-end="url(#aggregationEnd)"/><path d="M914,339.5L914,347.75C914,356,914,372.5,909.9514767932488,389.1666666666667C905.9029535864979,405.8333333333333,897.8059071729958,422.6666666666667,893.7573839662447,431.0833333333333L889.7088607594936,439.5" id="edge14" class="relation" marker-end="url(#aggregationEnd)"/><path d="M955,323.134693877551L968.5833333333334,334.11224489795916C982.1666666666666,345.0897959183673,1009.3333333333334,367.04489795918363,1019.0279535864979,386.4391156462585C1028.7225738396626,405.8333333333333,1020.945147679325,422.6666666666667,1017.0564345991562,431.0833333333333L1013.1677215189874,439.5" id="edge15" class="relation" marker-end="url(#aggregationEnd)"/><path d="M955,311.4761904761905L979.6666666666666,324.39682539682536C1004.3333333333334,337.3174603174603,1053.6666666666667,363.1587301587301,1077.2679324894514,384.49603174603175C1100.8691983122362,405.8333333333333,1098.7383966244727,422.6666666666667,1097.6729957805908,431.0833333333333L1096.607594936709,439.5" id="edge16" class="relation" marker-end="url(#aggregationEnd)"/></svg>